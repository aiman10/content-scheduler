<div class="container mx-auto p-4">
  <div class="flex flex-wrap items-center justify-between mb-4">
    <div class="flex items-center space-x-2">
      <button class="p-2" (click)="previousYear()">
        <i class="fas fa-chevron-left"></i>
      </button>
      <span class="text-lg font-semibold">{{ selectedYear }}</span>
      <button class="p-2" (click)="nextYear()">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    <div class="flex items-center space-x-2">
      <select
        [(ngModel)]="selectedValue"
        (change)="onFilterChange()"
        class="border rounded p-1"
      >
        <option
          *ngFor="let value of filterValues"
          [ngClass]="{ 'is-selected': value === selectedValue }"
          [value]="value"
        >
          {{ value }}
        </option>
      </select>
    </div>
  </div>

  <div class="grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
    <div *ngFor="let movie of bookmarkedMovies" class="bg-white rounded shadow hover:shadow-lg transition p-4 relative">
      <button
        class="absolute top-2 right-2 text-yellow-500"
        (click)="toggleBookmark(movie)"
      >
        <i class="fa-solid fa-bookmark" *ngIf="movie.isBookmarked"></i>
        <i class="fa-regular fa-bookmark" *ngIf="!movie.isBookmarked"></i>
      </button>
      <img
        [src]="'https://image.tmdb.org/t/p/original' + movie.poster_path"
        alt="{{ movie.title }}"
        loading="lazy"
        class="w-full h-48 object-cover rounded mb-2"
      />
      <h2 class="text-lg font-semibold">{{ movie.title }}</h2>
      <p class="text-sm text-gray-500">{{ movie.release_date }}</p>
      <button
        class="mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
        (click)="downloadICSCalendar(movie)"
      >
        <i class="fas fa-calendar-plus mr-1"></i> Download Calendar
      </button>
    </div>
  </div>

  <div *ngIf="!isLoading">
    <!-- Only show the following content if not loading -->
    <div *ngIf="bookmarkedMovies.length == 0" class="column is-full">
      <h2 class="title is-5 has-text-centered">
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        You have no bookmarked movies
      </h2>
    </div>
    <!-- ...rest of your template... -->
  </div>

  <div *ngIf="isLoading" class="loading-indicator">Loading...</div>
</div>
